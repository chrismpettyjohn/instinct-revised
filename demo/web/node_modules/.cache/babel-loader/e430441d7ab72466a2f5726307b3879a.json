{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useLocation}from'wouter';import{toast}from'react-toastify';import{NewsArticleEditor}from'./editor/NewsArticleEditor';import{articleService,setURL}from'@instinct-prj/frontend';setURL('admin/news/articles/create',/*#__PURE__*/React.createElement(CreateNewsArticle,null));export function CreateNewsArticle(){var _useLocation=useLocation(),_useLocation2=_slicedToArray(_useLocation,2),location=_useLocation2[0],setLocation=_useLocation2[1];function onSave(_x){return _onSave.apply(this,arguments);}function _onSave(){_onSave=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(article){var newArticle;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return articleService.create(article);case 3:newArticle=_context.sent;toast.success(\"\".concat(article.title,\" has been published successfully\"));setLocation(\"/admin/news/articles/\".concat(newArticle.id));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);toast.error(\"\".concat(article.title,\" could not be published at this time\"));case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _onSave.apply(this,arguments);}return/*#__PURE__*/React.createElement(NewsArticleEditor,{onSave:onSave});}","map":{"version":3,"sources":["/Users/cpettyjohn/Habbo/instinct/packages/frontend/admin/src/news-articles/articles/CreateNewsArticle.tsx"],"names":["React","useLocation","toast","NewsArticleEditor","articleService","setURL","CreateNewsArticle","location","setLocation","onSave","article","create","newArticle","success","title","id","error"],"mappings":"kcAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,WAAR,KAA0B,QAA1B,CACA,OAAQC,KAAR,KAAoB,gBAApB,CAEA,OAAQC,iBAAR,KAAgC,4BAAhC,CACA,OAAQC,cAAR,CAAwBC,MAAxB,KAAqC,wBAArC,CAEAA,MAAM,CAAC,4BAAD,cAA+B,oBAAC,iBAAD,MAA/B,CAAN,CAEA,MAAO,SAASC,CAAAA,iBAAT,EAA6B,kBACFL,WAAW,EADT,8CAC3BM,QAD2B,kBACjBC,WADiB,0BAGnBC,CAAAA,MAHmB,8HAGlC,iBAAsBC,OAAtB,uKAE6BN,CAAAA,cAAc,CAACO,MAAf,CAAsBD,OAAtB,CAF7B,QAEUE,UAFV,eAGIV,KAAK,CAACW,OAAN,WAAiBH,OAAO,CAACI,KAAzB,sCACAN,WAAW,gCAAyBI,UAAU,CAACG,EAApC,EAAX,CAJJ,+EAMIb,KAAK,CAACc,KAAN,WAAeN,OAAO,CAACI,KAAvB,0CANJ,oEAHkC,yCAalC,mBAAO,oBAAC,iBAAD,EAAmB,MAAM,CAAEL,MAA3B,EAAP,CACD","sourcesContent":["import React from 'react';\nimport {useLocation} from 'wouter';\nimport {toast} from 'react-toastify';\nimport {ArticleDTO} from '@instinct-prj/interface';\nimport {NewsArticleEditor} from './editor/NewsArticleEditor';\nimport {articleService, setURL} from '@instinct-prj/frontend';\n\nsetURL('admin/news/articles/create', <CreateNewsArticle />);\n\nexport function CreateNewsArticle() {\n  const [location, setLocation] = useLocation();\n\n  async function onSave(article: ArticleDTO): Promise<void> {\n    try {\n      const newArticle = await articleService.create(article);\n      toast.success(`${article.title} has been published successfully`);\n      setLocation(`/admin/news/articles/${newArticle.id!}`);\n    } catch {\n      toast.error(`${article.title} could not be published at this time`);\n    }\n  }\n\n  return <NewsArticleEditor onSave={onSave} />;\n}\n"]},"metadata":{},"sourceType":"module"}