{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{toast}from'react-toastify';import React,{useState}from'react';import{SketchPicker}from'react-color';import{articleService,Form,Input}from'@instinct-prj/frontend';import{FormGroup,Modal,ModalBody,ModalFooter,ModalHeader}from'reactstrap';import{exampleArticleCategoryDTO}from'@instinct-prj/interface';export function CreateCategoryModal(_ref){var onCreation=_ref.onCreation;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setModal=_useState2[1];var _useState3=useState(exampleArticleCategoryDTO),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];function _onChange(key,value){setCategory(function(_){return _objectSpread(_objectSpread({},_),{},_defineProperty({},key,value));});}function onToggle(){setModal(function(_){return!_;});}function onSubmit(){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return articleService.createCategory(category.name,category.color);case 3:setCategory(exampleArticleCategoryDTO);setModal(false);toast.success(\"Category \".concat(category.name,\" has been created\"));onCreation();_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);toast.error(\"Category \".concat(category.name,\" could not be created at this time\"));case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return _onSubmit.apply(this,arguments);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary mt-2\",onClick:onToggle},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-plus-square mr-2\"}),\"New\"),/*#__PURE__*/React.createElement(Modal,{isOpen:showModal,onToggle:onToggle},/*#__PURE__*/React.createElement(ModalHeader,{toggle:onToggle},\"Create Category\"),/*#__PURE__*/React.createElement(Form,{className:\"\",onSubmit:onSubmit},/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"h4\",null,\"Name\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"name\",value:category.name,onChange:_onChange})),/*#__PURE__*/React.createElement(FormGroup,null),/*#__PURE__*/React.createElement(\"h4\",null,\"Color\"),/*#__PURE__*/React.createElement(SketchPicker,{color:category.color,onChange:function onChange(e){return _onChange('color',e.hex);}})),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success\",type:\"submit\"},\"Save\")))));}","map":{"version":3,"sources":["/Users/cpettyjohn/Habbo/instinct/packages/frontend/admin/src/news-articles/categories/create-category-modal/CreateCategoryModal.tsx"],"names":["toast","React","useState","SketchPicker","articleService","Form","Input","FormGroup","Modal","ModalBody","ModalFooter","ModalHeader","exampleArticleCategoryDTO","CreateCategoryModal","onCreation","showModal","setModal","category","setCategory","onChange","key","value","_","onToggle","onSubmit","createCategory","name","color","success","error","e","hex"],"mappings":"ivBAAA,OAAQA,KAAR,KAAoB,gBAApB,CACA,MAAOC,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,YAAR,KAA2B,aAA3B,CACA,OAAQC,cAAR,CAAwBC,IAAxB,CAA8BC,KAA9B,KAA0C,wBAA1C,CAEA,OACEC,SADF,CAEEC,KAFF,CAGEC,SAHF,CAIEC,WAJF,CAKEC,WALF,KAMO,YANP,CAOA,OAEEC,yBAFF,KAGO,yBAHP,CAKA,MAAO,SAASC,CAAAA,mBAAT,MAAqE,IAAvCC,CAAAA,UAAuC,MAAvCA,UAAuC,eAC5CZ,QAAQ,CAAC,KAAD,CADoC,wCACnEa,SADmE,eACxDC,QADwD,8BAE1Cd,QAAQ,CACtCU,yBADsC,CAFkC,yCAEnEK,QAFmE,eAEzDC,WAFyD,eAM1E,QAASC,CAAAA,SAAT,CACEC,GADF,CAEEC,KAFF,CAGE,CACAH,WAAW,CAAC,SAAAI,CAAC,wCACRA,CADQ,wBAEVF,GAFU,CAEJC,KAFI,IAAF,CAAX,CAID,CAED,QAASE,CAAAA,QAAT,EAAoB,CAClBP,QAAQ,CAAC,SAAAM,CAAC,QAAI,CAACA,CAAL,EAAF,CAAR,CACD,CAlByE,QAoB3DE,CAAAA,QApB2D,kIAoB1E,yKAEUpB,CAAAA,cAAc,CAACqB,cAAf,CAA8BR,QAAQ,CAACS,IAAvC,CAA6CT,QAAQ,CAACU,KAAtD,CAFV,QAGIT,WAAW,CAACN,yBAAD,CAAX,CACAI,QAAQ,CAAC,KAAD,CAAR,CACAhB,KAAK,CAAC4B,OAAN,oBAA0BX,QAAQ,CAACS,IAAnC,uBACAZ,UAAU,GANd,+EAQId,KAAK,CAAC6B,KAAN,oBACcZ,QAAQ,CAACS,IADvB,wCARJ,oEApB0E,2CAkC1E,mBACE,qDACE,8BAAQ,SAAS,CAAC,sBAAlB,CAAyC,OAAO,CAAEH,QAAlD,eACE,yBAAG,SAAS,CAAC,wBAAb,EADF,OADF,cAKE,oBAAC,KAAD,EAAO,MAAM,CAAER,SAAf,CAA0B,QAAQ,CAAEQ,QAApC,eACE,oBAAC,WAAD,EAAa,MAAM,CAAEA,QAArB,oBADF,cAEE,oBAAC,IAAD,EAAM,SAAS,CAAC,EAAhB,CAAmB,QAAQ,CAAEC,QAA7B,eACE,oBAAC,SAAD,mBACE,oBAAC,SAAD,mBACE,qCADF,cAEE,oBAAC,KAAD,EACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEP,QAAQ,CAACS,IAHlB,CAIE,QAAQ,CAAEP,SAJZ,EAFF,CADF,cAUE,oBAAC,SAAD,MAVF,cAWE,sCAXF,cAYE,oBAAC,YAAD,EACE,KAAK,CAAEF,QAAQ,CAACU,KADlB,CAEE,QAAQ,CAAE,kBAAAG,CAAC,QAAIX,CAAAA,SAAQ,CAAC,OAAD,CAAUW,CAAC,CAACC,GAAZ,CAAZ,EAFb,EAZF,CADF,cAkBE,oBAAC,WAAD,mBACE,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,IAAI,CAAC,QAAzC,SADF,CAlBF,CAFF,CALF,CADF,CAmCD","sourcesContent":["import {toast} from 'react-toastify';\nimport React, {useState} from 'react';\nimport {SketchPicker} from 'react-color';\nimport {articleService, Form, Input} from '@instinct-prj/frontend';\nimport {CreateCategoryModalProps} from './CreateCategoryModal.types';\nimport {\n  FormGroup,\n  Modal,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n} from 'reactstrap';\nimport {\n  ArticleCategoryDTO,\n  exampleArticleCategoryDTO,\n} from '@instinct-prj/interface';\n\nexport function CreateCategoryModal({onCreation}: CreateCategoryModalProps) {\n  const [showModal, setModal] = useState(false);\n  const [category, setCategory] = useState<ArticleCategoryDTO>(\n    exampleArticleCategoryDTO\n  );\n\n  function onChange<K extends keyof ArticleCategoryDTO>(\n    key: K,\n    value: ArticleCategoryDTO[K]\n  ) {\n    setCategory(_ => ({\n      ..._,\n      [key]: value,\n    }));\n  }\n\n  function onToggle() {\n    setModal(_ => !_);\n  }\n\n  async function onSubmit() {\n    try {\n      await articleService.createCategory(category.name, category.color);\n      setCategory(exampleArticleCategoryDTO);\n      setModal(false);\n      toast.success(`Category ${category.name} has been created`);\n      onCreation();\n    } catch {\n      toast.error(\n        `Category ${category.name} could not be created at this time`\n      );\n    }\n  }\n\n  return (\n    <>\n      <button className=\"btn btn-primary mt-2\" onClick={onToggle}>\n        <i className=\"fa fa-plus-square mr-2\" />\n        New\n      </button>\n      <Modal isOpen={showModal} onToggle={onToggle}>\n        <ModalHeader toggle={onToggle}>Create Category</ModalHeader>\n        <Form className=\"\" onSubmit={onSubmit}>\n          <ModalBody>\n            <FormGroup>\n              <h4>Name</h4>\n              <Input\n                type=\"text\"\n                name=\"name\"\n                value={category.name}\n                onChange={onChange}\n              />\n            </FormGroup>\n            <FormGroup></FormGroup>\n            <h4>Color</h4>\n            <SketchPicker\n              color={category.color}\n              onChange={e => onChange('color', e.hex)}\n            />\n          </ModalBody>\n          <ModalFooter>\n            <button className=\"btn btn-success\" type=\"submit\">\n              Save\n            </button>\n          </ModalFooter>\n        </Form>\n      </Modal>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}