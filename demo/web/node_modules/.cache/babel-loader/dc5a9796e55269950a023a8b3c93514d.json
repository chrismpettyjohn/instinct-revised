{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import Moment from'moment';import React from'react';import{toast}from'react-toastify';import{BanEditor}from'../../ban-editor';import{Avatar,banService}from'@instinct-prj/frontend';import{DeleteBanModal}from'../delete-ban/DeleteBan';export function EditBanModal(_ref){var ban=_ref.ban,onChange=_ref.onChange;var defaultBan={userID:ban.user.id,reason:ban.banReason,banStart:ban.banStart,banEnd:ban.banEnd};function onSave(_x){return _onSave.apply(this,arguments);}function _onSave(){_onSave=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(banDTO){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return banService.updateByID(ban.id.toString(),banDTO);case 3:toast.success(\"You have updated the ban on \".concat(ban.user.username));onChange();_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);toast.error(\"User \".concat(banDTO.userID,\"'s ban could not be updated at this time\"));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _onSave.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{className:\"admin-article row mb-3\",key:ban.id,style:{height:100,width:'100%'}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(Avatar,{look:ban.user.figure,headOnly:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-10 text-right\"},/*#__PURE__*/React.createElement(\"h3\",null,ban.user.username),/*#__PURE__*/React.createElement(\"h5\",{style:{marginTop:-10}},/*#__PURE__*/React.createElement(\"b\",{style:{fontWeight:'bold'}},\"Ban Expires:\"),' ',Moment.unix(ban.banEnd).format('MM/DD/YYYY (hh:mmA)')),/*#__PURE__*/React.createElement(\"div\",{className:\"row mr-2\",style:{float:'right'}},/*#__PURE__*/React.createElement(DeleteBanModal,{ban:ban,onDeletion:onChange},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger btn-sm mr-2\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-trash\"}))),/*#__PURE__*/React.createElement(BanEditor,{defaultBan:defaultBan,onSave:onSave},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-sm\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-pencil\"}))))));}","map":{"version":3,"sources":["/Users/cpettyjohn/Habbo/instinct/packages/frontend/admin/src/users/bans/ban-modals/edit-ban/EditBanModal.tsx"],"names":["Moment","React","toast","BanEditor","Avatar","banService","DeleteBanModal","EditBanModal","ban","onChange","defaultBan","userID","user","id","reason","banReason","banStart","banEnd","onSave","banDTO","updateByID","toString","success","username","error","height","width","figure","marginTop","fontWeight","unix","format","float"],"mappings":"2SAAA,MAAOA,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CAEA,OAAQC,MAAR,CAAgBC,UAAhB,KAAiC,wBAAjC,CACA,OAAQC,cAAR,KAA6B,yBAA7B,CAGA,MAAO,SAASC,CAAAA,YAAT,MAA0D,IAAnCC,CAAAA,GAAmC,MAAnCA,GAAmC,CAA9BC,QAA8B,MAA9BA,QAA8B,CAC/D,GAAMC,CAAAA,UAAsB,CAAG,CAC7BC,MAAM,CAAEH,GAAG,CAACI,IAAJ,CAASC,EADY,CAE7BC,MAAM,CAAEN,GAAG,CAACO,SAFiB,CAG7BC,QAAQ,CAAER,GAAG,CAACQ,QAHe,CAI7BC,MAAM,CAAET,GAAG,CAACS,MAJiB,CAA/B,CAD+D,QAQhDC,CAAAA,MARgD,8HAQ/D,iBAAsBC,MAAtB,wJAEUd,CAAAA,UAAU,CAACe,UAAX,CAAsBZ,GAAG,CAACK,EAAJ,CAAOQ,QAAP,EAAtB,CAAyCF,MAAzC,CAFV,QAGIjB,KAAK,CAACoB,OAAN,uCAA6Cd,GAAG,CAACI,IAAJ,CAASW,QAAtD,GACAd,QAAQ,GAJZ,+EAMIP,KAAK,CAACsB,KAAN,gBACUL,MAAM,CAACR,MADjB,8CANJ,oEAR+D,yCAoB/D,mBACE,2BACE,SAAS,CAAC,wBADZ,CAEE,GAAG,CAAEH,GAAG,CAACK,EAFX,CAGE,KAAK,CAAE,CAACY,MAAM,CAAE,GAAT,CAAcC,KAAK,CAAE,MAArB,CAHT,eAKE,2BAAK,SAAS,CAAC,OAAf,eACE,oBAAC,MAAD,EAAQ,IAAI,CAAElB,GAAG,CAACI,IAAJ,CAASe,MAAvB,CAA+B,QAAQ,KAAvC,EADF,CALF,cAQE,2BAAK,SAAS,CAAC,mBAAf,eACE,8BAAKnB,GAAG,CAACI,IAAJ,CAASW,QAAd,CADF,cAEE,0BAAI,KAAK,CAAE,CAACK,SAAS,CAAE,CAAC,EAAb,CAAX,eACE,yBAAG,KAAK,CAAE,CAACC,UAAU,CAAE,MAAb,CAAV,iBADF,CACmD,GADnD,CAEG7B,MAAM,CAAC8B,IAAP,CAAYtB,GAAG,CAACS,MAAhB,EAAwBc,MAAxB,CAA+B,qBAA/B,CAFH,CAFF,cAME,2BAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAACC,KAAK,CAAE,OAAR,CAAjC,eACE,oBAAC,cAAD,EAAgB,GAAG,CAAExB,GAArB,CAA0B,UAAU,CAAEC,QAAtC,eACE,8BAAQ,SAAS,CAAC,4BAAlB,eACE,yBAAG,SAAS,CAAC,aAAb,EADF,CADF,CADF,cAME,oBAAC,SAAD,EAAW,UAAU,CAAEC,UAAvB,CAAmC,MAAM,CAAEQ,MAA3C,eACE,8BAAQ,SAAS,CAAC,wBAAlB,eACE,yBAAG,SAAS,CAAC,cAAb,EADF,CADF,CANF,CANF,CARF,CADF,CA8BD","sourcesContent":["import Moment from 'moment';\nimport React from 'react';\nimport {toast} from 'react-toastify';\nimport {BanEditor} from '../../ban-editor';\nimport {UserBanDTO} from '@instinct-prj/interface';\nimport {Avatar, banService} from '@instinct-prj/frontend';\nimport {DeleteBanModal} from '../delete-ban/DeleteBan';\nimport {EditBanModalProps} from './EditBanModal.types';\n\nexport function EditBanModal({ban, onChange}: EditBanModalProps) {\n  const defaultBan: UserBanDTO = {\n    userID: ban.user.id,\n    reason: ban.banReason,\n    banStart: ban.banStart,\n    banEnd: ban.banEnd,\n  };\n\n  async function onSave(banDTO: UserBanDTO) {\n    try {\n      await banService.updateByID(ban.id.toString(), banDTO);\n      toast.success(`You have updated the ban on ${ban.user.username}`);\n      onChange();\n    } catch {\n      toast.error(\n        `User ${banDTO.userID}'s ban could not be updated at this time`\n      );\n    }\n  }\n\n  return (\n    <div\n      className=\"admin-article row mb-3\"\n      key={ban.id}\n      style={{height: 100, width: '100%'}}\n    >\n      <div className=\"col-2\">\n        <Avatar look={ban.user.figure} headOnly />\n      </div>\n      <div className=\"col-10 text-right\">\n        <h3>{ban.user.username}</h3>\n        <h5 style={{marginTop: -10}}>\n          <b style={{fontWeight: 'bold'}}>Ban Expires:</b>{' '}\n          {Moment.unix(ban.banEnd).format('MM/DD/YYYY (hh:mmA)')}\n        </h5>\n        <div className=\"row mr-2\" style={{float: 'right'}}>\n          <DeleteBanModal ban={ban} onDeletion={onChange}>\n            <button className=\"btn btn-danger btn-sm mr-2\">\n              <i className=\"fa fa-trash\" />\n            </button>\n          </DeleteBanModal>\n          <BanEditor defaultBan={defaultBan} onSave={onSave}>\n            <button className=\"btn btn-primary btn-sm\">\n              <i className=\"fa fa-pencil\" />\n            </button>\n          </BanEditor>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}