{"ast":null,"code":"import _slicedToArray from\"/Users/cpettyjohn/Habbo/instinct-revised/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link,useLocation}from'wouter';import React,{useContext}from'react';import{Icon}from'../../generic/icon';import{PermissionGuard}from'../permission';import{configContext}from'../../../context/config';import{sessionContext}from'../../../context/session';export function ServerMaintenanceGuard(_ref){var _user$rank;var children=_ref.children;var _useLocation=useLocation(),_useLocation2=_slicedToArray(_useLocation,2),location=_useLocation2[0],setLocation=_useLocation2[1];var _useContext=useContext(sessionContext),user=_useContext.user;var _useContext2=useContext(configContext),config=_useContext2.config;if(config.maintenanceEnabled&&!(user===null||user===void 0?void 0:(_user$rank=user.rank)===null||_user$rank===void 0?void 0:_user$rank.permissions.websiteShowAdminPanel)){setLocation('/maintenance');}return/*#__PURE__*/React.createElement(React.Fragment,null,config.maintenanceEnabled&&/*#__PURE__*/React.createElement(PermissionGuard,{permission:\"websiteShowAdminPanel\"},/*#__PURE__*/React.createElement(\"div\",{className:\"alert-danger p-2 mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mt-2\"},/*#__PURE__*/React.createElement(Icon,{type:\"exclamation-triangle\"}),/*#__PURE__*/React.createElement(\"b\",null,\"The hotel is under maintenance and is not accessible to users.\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(Link,{href:\"/admin/website\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-dark\"},\"Site Settings\")))))),children);}","map":{"version":3,"sources":["/Users/cpettyjohn/Habbo/instinct-revised/packages/frontend/frontend/src/components/guard/server-maintenance/ServerMaintenanceGuard.tsx"],"names":["Link","useLocation","React","useContext","Icon","PermissionGuard","configContext","sessionContext","ServerMaintenanceGuard","children","location","setLocation","user","config","maintenanceEnabled","rank","permissions","websiteShowAdminPanel"],"mappings":"+JAAA,OAAQA,IAAR,CAAcC,WAAd,KAAgC,QAAhC,CACA,MAAOC,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,OAAQC,IAAR,KAAmB,oBAAnB,CACA,OAAQC,eAAR,KAA8B,eAA9B,CACA,OAAQC,aAAR,KAA4B,yBAA5B,CACA,OAAQC,cAAR,KAA6B,0BAA7B,CAGA,MAAO,SAASC,CAAAA,sBAAT,MAEyB,mBAD9BC,CAAAA,QAC8B,MAD9BA,QAC8B,kBACER,WAAW,EADb,8CACvBS,QADuB,kBACbC,WADa,kCAEfR,UAAU,CAACI,cAAD,CAFK,CAEvBK,IAFuB,aAEvBA,IAFuB,kBAGbT,UAAU,CAACG,aAAD,CAHG,CAGvBO,MAHuB,cAGvBA,MAHuB,CAK9B,GACEA,MAAM,CAACC,kBAAP,EACA,EAACF,IAAD,SAACA,IAAD,6BAACA,IAAI,CAAEG,IAAP,qCAAC,WAAYC,WAAZ,CAAwBC,qBAAzB,CAFF,CAGE,CACAN,WAAW,CAAC,cAAD,CAAX,CACD,CAED,mBACE,wCACGE,MAAM,CAACC,kBAAP,eACC,oBAAC,eAAD,EAAiB,UAAU,CAAC,uBAA5B,eACE,2BAAK,SAAS,CAAC,uBAAf,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,IAAD,EAAM,IAAI,CAAC,sBAAX,EADF,cAEE,8FAFF,CADF,CADF,cAUE,2BAAK,SAAS,CAAC,gBAAf,eACE,oBAAC,IAAD,EAAM,IAAI,CAAC,gBAAX,eACE,8BAAQ,SAAS,CAAC,cAAlB,kBADF,CADF,CAVF,CADF,CADF,CAFJ,CAuBGL,QAvBH,CADF,CA2BD","sourcesContent":["import {Link, useLocation} from 'wouter';\nimport React, {useContext} from 'react';\nimport {Icon} from '../../generic/icon';\nimport {PermissionGuard} from '../permission';\nimport {configContext} from '../../../context/config';\nimport {sessionContext} from '../../../context/session';\nimport {ServerMaintenanceGuardProps} from './ServerMaintenanceGuard.types';\n\nexport function ServerMaintenanceGuard({\n  children,\n}: ServerMaintenanceGuardProps) {\n  const [location, setLocation] = useLocation();\n  const {user} = useContext(sessionContext);\n  const {config} = useContext(configContext);\n\n  if (\n    config.maintenanceEnabled &&\n    !user?.rank?.permissions.websiteShowAdminPanel\n  ) {\n    setLocation('/maintenance');\n  }\n\n  return (\n    <>\n      {config.maintenanceEnabled && (\n        <PermissionGuard permission=\"websiteShowAdminPanel\">\n          <div className=\"alert-danger p-2 mb-4\">\n            <div className=\"row\">\n              <div className=\"col\">\n                <div className=\"mt-2\">\n                  <Icon type=\"exclamation-triangle\" />\n                  <b>\n                    The hotel is under maintenance and is not accessible to\n                    users.\n                  </b>\n                </div>\n              </div>\n              <div className=\"col text-right\">\n                <Link href=\"/admin/website\">\n                  <button className=\"btn btn-dark\">Site Settings</button>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </PermissionGuard>\n      )}\n      {children}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}