{"ast":null,"code":"var _jsxFileName = \"/Users/cpettyjohn/Habbo/instinct-revised/packages/frontend/core/src/components/template/forgot-password-modal/ForgotPasswordModal.tsx\";\nimport React, { useState } from 'react';\nimport { Icon } from '../../generic/icon';\nimport { Form, Input } from '../../generic/form';\nimport { sessionService } from '../../../services/session';\nimport { ModalOverlay } from '../../generic/modal/modal-overlay';\nimport { defaultForgotPasswordModalState } from './ForgotPasswordModal.types';\nexport function ForgotPasswordModal({\n  isOpen,\n  onToggle\n}) {\n  const [state, setState] = useState(defaultForgotPasswordModalState);\n\n  function setValue(key, value) {\n    setState(_ => ({ ..._,\n      [key]: value\n    }));\n  }\n\n  async function onSubmit() {\n    setState(_ => ({ ..._,\n      showError: false,\n      showSpinner: true\n    }));\n\n    try {\n      await sessionService.generateForgotPasswordToken(state.email);\n      setValue('showCompletion', true);\n    } catch {\n      setState(_ => ({ ..._,\n        showError: true,\n        showSpinner: false\n      }));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(ModalOverlay, {\n    isOpen: isOpen,\n    onToggle: onToggle,\n    header: \"Password Reset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, state.showCompletion && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-thumbs-up fa-3x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"Please check your inbox for an email containing your password reset link.\")), !state.showCompletion && /*#__PURE__*/React.createElement(Form, {\n    className: \"login-form\",\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, state.showError && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"Your password could not be reset at this time\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"username-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    placeholder: \"Email\",\n    value: state.email,\n    onChange: setValue,\n    type: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Icon, {\n    type: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"rounded-button blue plain\",\n    type: \"submit\",\n    disabled: !state.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"Submit\")));\n}","map":null,"metadata":{},"sourceType":"module"}