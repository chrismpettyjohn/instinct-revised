{"ast":null,"code":"var _jsxFileName = \"/Users/cpettyjohn/Habbo/instinct/packages/frontend/admin/src/news-articles/categories/ListCategories.tsx\";\nimport { toast } from 'react-toastify';\nimport React, { useState } from 'react';\nimport { NewsArticleLayout } from '../NewsArticlesLayout';\nimport { CreateCategoryModal } from './create-category-modal';\nimport { APIWrapper, articleService, setURL } from '@instinct-prj/frontend';\nsetURL('admin/news/categories', /*#__PURE__*/React.createElement(ListCategories, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 33\n  }\n}));\nexport function ListCategories() {\n  const [reload, setReload] = useState(0);\n\n  function onCreation() {\n    setReload(_ => _ + 1);\n  }\n\n  async function onDelete(categoryID) {\n    try {\n      await articleService.deleteCategoryByID(categoryID);\n      toast.success(`Category ${categoryID} has been deleted`);\n      setReload(_ => _ + 1);\n    } catch {\n      toast.error(`Category ${categoryID} could not be deleted at this time`);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(NewsArticleLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      marginTop: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }, \"News Categories\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CreateCategoryModal, {\n    onCreation: onCreation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(APIWrapper, {\n    promise: articleService.getAllCategories,\n    params: reload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, categories => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      maxHeight: 500,\n      padding: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, categories === null || categories === void 0 ? void 0 : categories.map(category => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    key: category.id,\n    style: {\n      background: '#000B13',\n      borderBottom: `2px solid ${category.color}`,\n      padding: 15,\n      marginBottom: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, category.name), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => onDelete(category.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \"Delete\"))))));\n}","map":null,"metadata":{},"sourceType":"module"}