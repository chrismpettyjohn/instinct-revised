{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link}from'wouter';import'./ListNewsArticles.scss';import{toast}from'react-toastify';import React,{useState}from'react';import{NewsArticleLayout}from'../NewsArticlesLayout';import{APIWrapper,articleService,Icon,setURL}from'@instinct-prj/frontend';setURL('admin/news/articles',/*#__PURE__*/React.createElement(ListNewsArticles,null));export function ListNewsArticles(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),refresh=_useState2[0],setRefresh=_useState2[1];function deleteArticle(_x){return _deleteArticle.apply(this,arguments);}function _deleteArticle(){_deleteArticle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(articleID){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return articleService.deleteByID(articleID);case 3:setRefresh(function(_){return _+1;});toast.success(\"Article \".concat(articleID,\" has been deleted\"));_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);toast.error(\"Article \".concat(articleID,\" could not be deleted at this time\"));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _deleteArticle.apply(this,arguments);}return/*#__PURE__*/React.createElement(NewsArticleLayout,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"h2\",{style:{marginTop:8}},\"News Articles\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/news/articles/create\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary mt-2\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-plus-square mr-2\"}),\"New\")))),/*#__PURE__*/React.createElement(APIWrapper,{params:refresh,promise:articleService.getAll},function(articles){return/*#__PURE__*/React.createElement(\"div\",{style:{maxHeight:600,overflowY:'scroll',padding:10}},articles.map(function(_){return/*#__PURE__*/React.createElement(\"div\",{className:\"admin-article row mb-2\",key:_.id},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/news/articles/\".concat(_.id)},/*#__PURE__*/React.createElement(\"img\",{alt:\"article header\",src:_.thumbnailImage,height:100}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/news/articles/\".concat(_.id)},/*#__PURE__*/React.createElement(\"h3\",null,_.title)),/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return deleteArticle(_.id);},style:{cursor:'pointer'}},/*#__PURE__*/React.createElement(Icon,{className:\"text-danger\",type:\"trash\"}))));}));}));}","map":{"version":3,"sources":["/Users/cpettyjohn/Habbo/instinct/packages/frontend/admin/src/news-articles/articles/ListNewsArticles.tsx"],"names":["Link","toast","React","useState","NewsArticleLayout","APIWrapper","articleService","Icon","setURL","ListNewsArticles","refresh","setRefresh","deleteArticle","articleID","deleteByID","_","success","error","marginTop","getAll","articles","maxHeight","overflowY","padding","map","id","thumbnailImage","title","cursor"],"mappings":"kcAAA,OAAQA,IAAR,KAAmB,QAAnB,CACA,MAAO,yBAAP,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,MAAOC,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,iBAAR,KAAgC,uBAAhC,CACA,OAAQC,UAAR,CAAoBC,cAApB,CAAoCC,IAApC,CAA0CC,MAA1C,KAAuD,wBAAvD,CAEAA,MAAM,CAAC,qBAAD,cAAwB,oBAAC,gBAAD,MAAxB,CAAN,CAEA,MAAO,SAASC,CAAAA,gBAAT,EAA4B,eACHN,QAAQ,CAAC,CAAD,CADL,wCAC1BO,OAD0B,eACjBC,UADiB,uBAGlBC,CAAAA,aAHkB,mJAGjC,iBAA6BC,SAA7B,wJAEUP,CAAAA,cAAc,CAACQ,UAAf,CAA0BD,SAA1B,CAFV,QAGIF,UAAU,CAAC,SAAAI,CAAC,QAAIA,CAAAA,CAAC,CAAG,CAAR,EAAF,CAAV,CACAd,KAAK,CAACe,OAAN,mBAAyBH,SAAzB,uBAJJ,+EAMIZ,KAAK,CAACgB,KAAN,mBAAuBJ,SAAvB,wCANJ,oEAHiC,gDAajC,mBACE,oBAAC,iBAAD,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,0BAAI,KAAK,CAAE,CAACK,SAAS,CAAE,CAAZ,CAAX,kBADF,CADF,cAIE,2BAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,6BAAT,eACE,8BAAQ,SAAS,CAAC,sBAAlB,eACE,yBAAG,SAAS,CAAC,wBAAb,EADF,OADF,CADF,CAJF,CADF,cAcE,oBAAC,UAAD,EAAY,MAAM,CAAER,OAApB,CAA6B,OAAO,CAAEJ,cAAc,CAACa,MAArD,EACG,SAAAC,QAAQ,qBACP,2BAAK,KAAK,CAAE,CAACC,SAAS,CAAE,GAAZ,CAAiBC,SAAS,CAAE,QAA5B,CAAsCC,OAAO,CAAE,EAA/C,CAAZ,EACGH,QAAQ,CAACI,GAAT,CAAa,SAAAT,CAAC,qBACb,2BAAK,SAAS,CAAC,wBAAf,CAAwC,GAAG,CAAEA,CAAC,CAACU,EAA/C,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,oBAAC,IAAD,EAAM,EAAE,gCAA0BV,CAAC,CAACU,EAA5B,CAAR,eACE,2BACE,GAAG,CAAC,gBADN,CAEE,GAAG,CAAEV,CAAC,CAACW,cAFT,CAGE,MAAM,CAAE,GAHV,EADF,CADF,CADF,cAUE,2BAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,IAAD,EAAM,EAAE,gCAA0BX,CAAC,CAACU,EAA5B,CAAR,eACE,8BAAKV,CAAC,CAACY,KAAP,CADF,CADF,cAIE,2BACE,OAAO,CAAE,yBAAMf,CAAAA,aAAa,CAACG,CAAC,CAACU,EAAH,CAAnB,EADX,CAEE,KAAK,CAAE,CAACG,MAAM,CAAE,SAAT,CAFT,eAIE,oBAAC,IAAD,EAAM,SAAS,CAAC,aAAhB,CAA8B,IAAI,CAAC,OAAnC,EAJF,CAJF,CAVF,CADa,EAAd,CADH,CADO,EADX,CAdF,CADF,CA+CD","sourcesContent":["import {Link} from 'wouter';\nimport './ListNewsArticles.scss';\nimport {toast} from 'react-toastify';\nimport React, {useState} from 'react';\nimport {NewsArticleLayout} from '../NewsArticlesLayout';\nimport {APIWrapper, articleService, Icon, setURL} from '@instinct-prj/frontend';\n\nsetURL('admin/news/articles', <ListNewsArticles />);\n\nexport function ListNewsArticles() {\n  const [refresh, setRefresh] = useState(0);\n\n  async function deleteArticle(articleID: number) {\n    try {\n      await articleService.deleteByID(articleID);\n      setRefresh(_ => _ + 1);\n      toast.success(`Article ${articleID} has been deleted`);\n    } catch {\n      toast.error(`Article ${articleID} could not be deleted at this time`);\n    }\n  }\n\n  return (\n    <NewsArticleLayout>\n      <div className=\"row\">\n        <div className=\"col-6\">\n          <h2 style={{marginTop: 8}}>News Articles</h2>\n        </div>\n        <div className=\"col-6 text-right\">\n          <Link to=\"/admin/news/articles/create\">\n            <button className=\"btn btn-primary mt-2\">\n              <i className=\"fa fa-plus-square mr-2\" />\n              New\n            </button>\n          </Link>\n        </div>\n      </div>\n      <APIWrapper params={refresh} promise={articleService.getAll}>\n        {articles => (\n          <div style={{maxHeight: 600, overflowY: 'scroll', padding: 10}}>\n            {articles.map(_ => (\n              <div className=\"admin-article row mb-2\" key={_.id}>\n                <div className=\"col-6\">\n                  <Link to={`/admin/news/articles/${_.id}`}>\n                    <img\n                      alt=\"article header\"\n                      src={_.thumbnailImage}\n                      height={100}\n                    />\n                  </Link>\n                </div>\n                <div className=\"col-6 text-right\">\n                  <Link to={`/admin/news/articles/${_.id}`}>\n                    <h3>{_.title}</h3>\n                  </Link>\n                  <div\n                    onClick={() => deleteArticle(_.id)}\n                    style={{cursor: 'pointer'}}\n                  >\n                    <Icon className=\"text-danger\" type=\"trash\" />\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </APIWrapper>\n    </NewsArticleLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}