{"ast":null,"code":"import _slicedToArray from\"/Users/cpettyjohn/Habbo/instinct-revised/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{FormGroup}from'reactstrap';import React,{useState}from'react';import{UsersLayout}from'../UsersLayout';import{EditUserModal}from'./edit-user-modal';import{APIWrapper,createFetchHook,Icon,manageUsersService,setURL}from'@instinct-prj/frontend';setURL('admin/users',/*#__PURE__*/React.createElement(ListUsers,null));export function ListUsers(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),filter=_useState2[0],setFilter=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),refresh=_useState4[0],setRefresh=_useState4[1];var users=createFetchHook(manageUsersService.getAll,refresh);function onUpdated(){setRefresh(function(_){return _+1;});}return/*#__PURE__*/React.createElement(UsersLayout,{permission:\"websiteManageUsers\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Users\"),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"h4\",null,\"Filter By\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",value:filter,onChange:function onChange(e){return setFilter(e.target.value.toLowerCase());}})),/*#__PURE__*/React.createElement(APIWrapper,{promise:manageUsersService.getAll,params:refresh},function(users){return/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\",style:{maxHeight:500,overflowY:'scroll'}},!users&&/*#__PURE__*/React.createElement(Icon,{className:\"fa-spin\",type:\"spinner\"}),users===null||users===void 0?void 0:users.filter(function(_){return _.username.toLowerCase().includes(filter);}).map(function(_){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\",key:_.id},/*#__PURE__*/React.createElement(EditUserModal,{user:_,onUpdated:onUpdated}));}));}));}","map":{"version":3,"sources":["/Users/cpettyjohn/Habbo/instinct-revised/packages/frontend/admin/src/users/users/ListUsers.tsx"],"names":["FormGroup","React","useState","UsersLayout","EditUserModal","APIWrapper","createFetchHook","Icon","manageUsersService","setURL","ListUsers","filter","setFilter","refresh","setRefresh","users","getAll","onUpdated","_","e","target","value","toLowerCase","maxHeight","overflowY","username","includes","map","id"],"mappings":"+JAAA,OAAQA,SAAR,KAAwB,YAAxB,CACA,MAAOC,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,WAAR,KAA0B,gBAA1B,CACA,OAAQC,aAAR,KAA4B,mBAA5B,CACA,OACEC,UADF,CAEEC,eAFF,CAGEC,IAHF,CAIEC,kBAJF,CAKEC,MALF,KAMO,wBANP,CAQAA,MAAM,CAAC,aAAD,cAAgB,oBAAC,SAAD,MAAhB,CAAN,CAEA,MAAO,SAASC,CAAAA,SAAT,EAAqB,eACER,QAAQ,CAAC,EAAD,CADV,wCACnBS,MADmB,eACXC,SADW,8BAEIV,QAAQ,CAAC,CAAD,CAFZ,yCAEnBW,OAFmB,eAEVC,UAFU,eAG1B,GAAMC,CAAAA,KAAK,CAAGT,eAAe,CAACE,kBAAkB,CAACQ,MAApB,CAA4BH,OAA5B,CAA7B,CAEA,QAASI,CAAAA,SAAT,EAAqB,CACnBH,UAAU,CAAC,SAAAI,CAAC,QAAIA,CAAAA,CAAC,CAAG,CAAR,EAAF,CAAV,CACD,CAED,mBACE,oBAAC,WAAD,EAAa,UAAU,CAAC,oBAAxB,eACE,sCADF,cAEE,oBAAC,SAAD,mBACE,0CADF,cAEE,6BACE,SAAS,CAAC,cADZ,CAEE,KAAK,CAAEP,MAFT,CAGE,QAAQ,CAAE,kBAAAQ,CAAC,QAAIP,CAAAA,SAAS,CAACO,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,WAAf,EAAD,CAAb,EAHb,EAFF,CAFF,cAUE,oBAAC,UAAD,EAAY,OAAO,CAAEd,kBAAkB,CAACQ,MAAxC,CAAgD,MAAM,CAAEH,OAAxD,EACG,SAAAE,KAAK,qBACJ,2BACE,SAAS,CAAC,UADZ,CAEE,KAAK,CAAE,CAACQ,SAAS,CAAE,GAAZ,CAAiBC,SAAS,CAAE,QAA5B,CAFT,EAIG,CAACT,KAAD,eAAU,oBAAC,IAAD,EAAM,SAAS,CAAC,SAAhB,CAA0B,IAAI,CAAC,SAA/B,EAJb,CAKGA,KALH,SAKGA,KALH,iBAKGA,KAAK,CACFJ,MADH,CACU,SAAAO,CAAC,QAAIA,CAAAA,CAAC,CAACO,QAAF,CAAWH,WAAX,GAAyBI,QAAzB,CAAkCf,MAAlC,CAAJ,EADX,EAEEgB,GAFF,CAEM,SAAAT,CAAC,qBACJ,2BAAK,SAAS,CAAC,OAAf,CAAuB,GAAG,CAAEA,CAAC,CAACU,EAA9B,eACE,oBAAC,aAAD,EAAe,IAAI,CAAEV,CAArB,CAAwB,SAAS,CAAED,SAAnC,EADF,CADI,EAFP,CALH,CADI,EADR,CAVF,CADF,CA8BD","sourcesContent":["import {FormGroup} from 'reactstrap';\nimport React, {useState} from 'react';\nimport {UsersLayout} from '../UsersLayout';\nimport {EditUserModal} from './edit-user-modal';\nimport {\n  APIWrapper,\n  createFetchHook,\n  Icon,\n  manageUsersService,\n  setURL,\n} from '@instinct-prj/frontend';\n\nsetURL('admin/users', <ListUsers />);\n\nexport function ListUsers() {\n  const [filter, setFilter] = useState('');\n  const [refresh, setRefresh] = useState(0);\n  const users = createFetchHook(manageUsersService.getAll, refresh);\n\n  function onUpdated() {\n    setRefresh(_ => _ + 1);\n  }\n\n  return (\n    <UsersLayout permission=\"websiteManageUsers\">\n      <h2>Users</h2>\n      <FormGroup>\n        <h4>Filter By</h4>\n        <input\n          className=\"form-control\"\n          value={filter}\n          onChange={e => setFilter(e.target.value.toLowerCase())}\n        />\n      </FormGroup>\n      <APIWrapper promise={manageUsersService.getAll} params={refresh}>\n        {users => (\n          <div\n            className=\"row mt-5\"\n            style={{maxHeight: 500, overflowY: 'scroll'}}\n          >\n            {!users && <Icon className=\"fa-spin\" type=\"spinner\" />}\n            {users\n              ?.filter(_ => _.username.toLowerCase().includes(filter))\n              .map(_ => (\n                <div className=\"col-4\" key={_.id}>\n                  <EditUserModal user={_} onUpdated={onUpdated} />\n                </div>\n              ))}\n          </div>\n        )}\n      </APIWrapper>\n    </UsersLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}