{"ast":null,"code":"var _jsxFileName = \"/Users/cpettyjohn/Habbo/instinct/packages/frontend/themes/src/modern/pages/home/preferences/tabs/profile/Profile.tsx\";\nimport React, { useContext, useState } from 'react';\nimport { defaultProfilePreferencesState } from './Profile.types';\nimport { Form, Icon, Input, Row, sessionContext, sessionService } from '@instinct-prj/frontend';\nexport function ProfilePreferences() {\n  const {\n    user\n  } = useContext(sessionContext);\n  const [state, setState] = useState({ ...defaultProfilePreferencesState,\n    favoriteYoutubeVideo: user.favoriteYoutubeVideo\n  });\n\n  function updateField(key, value) {\n    setState({ ...state,\n      [key]: value\n    });\n  }\n\n  async function onSubmit() {\n    setState(_ => ({ ..._,\n      showError: false,\n      showSpinner: true\n    }));\n\n    try {\n      await sessionService.updateProfile(state.favoriteYoutubeVideo);\n      updateField('showCompletion', true);\n    } catch {\n      setState(_ => ({ ..._,\n        showError: true,\n        showSpinner: false\n      }));\n    }\n  }\n\n  if (state.showCompletion) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-thumbs-up fa-5x\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, \"Your profile has been updated!\"));\n  }\n\n  return /*#__PURE__*/React.createElement(Form, {\n    className: \"\",\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, state.showError && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"There was a problem updating your profile\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"form-subcategory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"Youtube Video\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"favoriteYoutubeVideo\",\n    value: state.favoriteYoutubeVideo,\n    onChange: updateField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submit-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"rounded-button grey\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, state.showSpinner ? /*#__PURE__*/React.createElement(Icon, {\n    className: \"fa-spin\",\n    type: \"spinner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }) : 'Save')));\n}","map":null,"metadata":{},"sourceType":"module"}