{"ast":null,"code":"var _jsxFileName = \"/Users/cpettyjohn/Habbo/instinct-revised/packages/frontend/frontend/src/components/utility/bootstrap/Bootstrap.tsx\";\nimport { Router } from '../router';\nimport { DataPolling } from '../data-polling';\nimport { Client } from '../../template/client';\nimport { ToastContainer } from 'react-toastify';\nimport { BannedGuard } from '../../guard/banned';\nimport { useBanListener } from '../../../hooks/user';\nimport { SkeletonTheme } from 'react-loading-skeleton';\nimport { configContext } from '../../../context/config';\nimport { healthContext } from '../../../context/health';\nimport { configService } from '../../../services/config';\nimport { sessionContext } from '../../../context/session';\nimport { sessionService } from '../../../services/session';\nimport { RenderError } from '../../generic/error/RenderError';\nimport React, { useContext, useEffect, useState } from 'react';\nexport function Bootstrap() {\n  useBanListener();\n  const [ready, setReady] = useState(false);\n  const {\n    setConfig\n  } = useContext(configContext);\n  const {\n    setHealth\n  } = useContext(healthContext);\n  const {\n    setUser\n  } = useContext(sessionContext);\n  useEffect(() => {\n    async function init() {\n      const [user, config, health] = await Promise.all([sessionService.init(), configService.getConfig(), configService.getHealth()]);\n      setUser(user);\n      setConfig(config);\n      setHealth(health);\n      setReady(true);\n    }\n\n    init();\n  }, []);\n\n  if (!ready) {\n    return /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-spin fa-spinner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 12\n      }\n    });\n  }\n\n  try {\n    return /*#__PURE__*/React.createElement(SkeletonTheme, {\n      color: \"#0f416d\",\n      highlightColor: \"#1a4d6e\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ToastContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(BannedGuard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Client, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(DataPolling, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    })));\n  } catch {\n    return /*#__PURE__*/React.createElement(RenderError, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 12\n      }\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module"}