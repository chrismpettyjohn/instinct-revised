{"ast":null,"code":"import _slicedToArray from\"/Users/cpettyjohn/Habbo/instinct-revised/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link}from'wouter';import React,{useState}from'react';import{useFetchAllArticles}from'@instinct-prj/frontend';import{Carousel,CarouselCaption,CarouselControl,CarouselIndicators,CarouselItem}from'reactstrap';export function NewsSlider(){var articles=useFetchAllArticles();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),animating=_useState4[0],setAnimating=_useState4[1];function next(){if(animating||!articles)return;var nextIndex=activeIndex===articles.length-1?0:activeIndex+1;setActiveIndex(nextIndex);}function previous(){if(animating||!articles)return;var nextIndex=activeIndex===0?articles.length-1:activeIndex-1;setActiveIndex(nextIndex);}function goToIndex(newIndex){if(animating)return;setActiveIndex(newIndex);}if(!articles){return null;}return/*#__PURE__*/React.createElement(Carousel,{activeIndex:activeIndex,className:\"mt-4\",next:next,previous:previous},/*#__PURE__*/React.createElement(CarouselIndicators,{items:articles,activeIndex:activeIndex,onClickHandler:goToIndex}),articles===null||articles===void 0?void 0:articles.map(function(_){return/*#__PURE__*/React.createElement(CarouselItem,{onExiting:function onExiting(){return setAnimating(true);},onExited:function onExited(){return setAnimating(false);},key:\"article_\".concat(_.id)},/*#__PURE__*/React.createElement(Link,{href:\"/community/news/\".concat(_.id)},/*#__PURE__*/React.createElement(\"img\",{src:_.headerImage,alt:\"header image for \".concat(_.title)}),/*#__PURE__*/React.createElement(CarouselCaption,{captionText:_.description,captionHeader:_.title})));}),/*#__PURE__*/React.createElement(CarouselControl,{direction:\"prev\",directionText:\"Previous\",onClickHandler:previous}),/*#__PURE__*/React.createElement(CarouselControl,{direction:\"next\",directionText:\"Next\",onClickHandler:next}));}","map":{"version":3,"sources":["/Users/cpettyjohn/Habbo/instinct-revised/packages/frontend/modern-theme/src/pages/home/home/home-page/news-slider/NewsSlider.tsx"],"names":["Link","React","useState","useFetchAllArticles","Carousel","CarouselCaption","CarouselControl","CarouselIndicators","CarouselItem","NewsSlider","articles","activeIndex","setActiveIndex","animating","setAnimating","next","nextIndex","length","previous","goToIndex","newIndex","map","_","id","headerImage","title","description"],"mappings":"+JAAA,OAAQA,IAAR,KAAmB,QAAnB,CACA,MAAOC,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,mBAAR,KAAkC,wBAAlC,CACA,OACEC,QADF,CAEEC,eAFF,CAGEC,eAHF,CAIEC,kBAJF,CAKEC,YALF,KAMO,YANP,CAQA,MAAO,SAASC,CAAAA,UAAT,EAAsB,CAC3B,GAAMC,CAAAA,QAAQ,CAAGP,mBAAmB,EAApC,CAD2B,cAEWD,QAAQ,CAAC,CAAD,CAFnB,wCAEpBS,WAFoB,eAEPC,cAFO,8BAGOV,QAAQ,CAAC,KAAD,CAHf,yCAGpBW,SAHoB,eAGTC,YAHS,eAK3B,QAASC,CAAAA,IAAT,EAAgB,CACd,GAAIF,SAAS,EAAI,CAACH,QAAlB,CAA4B,OAC5B,GAAMM,CAAAA,SAAS,CAAGL,WAAW,GAAKD,QAAQ,CAACO,MAAT,CAAkB,CAAlC,CAAsC,CAAtC,CAA0CN,WAAW,CAAG,CAA1E,CACAC,cAAc,CAACI,SAAD,CAAd,CACD,CAED,QAASE,CAAAA,QAAT,EAAoB,CAClB,GAAIL,SAAS,EAAI,CAACH,QAAlB,CAA4B,OAC5B,GAAMM,CAAAA,SAAS,CAAGL,WAAW,GAAK,CAAhB,CAAoBD,QAAQ,CAACO,MAAT,CAAkB,CAAtC,CAA0CN,WAAW,CAAG,CAA1E,CACAC,cAAc,CAACI,SAAD,CAAd,CACD,CAED,QAASG,CAAAA,SAAT,CAAmBC,QAAnB,CAAqC,CACnC,GAAIP,SAAJ,CAAe,OACfD,cAAc,CAACQ,QAAD,CAAd,CACD,CAED,GAAI,CAACV,QAAL,CAAe,CACb,MAAO,KAAP,CACD,CAED,mBACE,oBAAC,QAAD,EACE,WAAW,CAAEC,WADf,CAEE,SAAS,CAAC,MAFZ,CAGE,IAAI,CAAEI,IAHR,CAIE,QAAQ,CAAEG,QAJZ,eAME,oBAAC,kBAAD,EACE,KAAK,CAAER,QADT,CAEE,WAAW,CAAEC,WAFf,CAGE,cAAc,CAAEQ,SAHlB,EANF,CAWGT,QAXH,SAWGA,QAXH,iBAWGA,QAAQ,CAAEW,GAAV,CAAc,SAAAC,CAAC,qBACd,oBAAC,YAAD,EACE,SAAS,CAAE,2BAAMR,CAAAA,YAAY,CAAC,IAAD,CAAlB,EADb,CAEE,QAAQ,CAAE,0BAAMA,CAAAA,YAAY,CAAC,KAAD,CAAlB,EAFZ,CAGE,GAAG,mBAAaQ,CAAC,CAACC,EAAf,CAHL,eAKE,oBAAC,IAAD,EAAM,IAAI,2BAAqBD,CAAC,CAACC,EAAvB,CAAV,eACE,2BAAK,GAAG,CAAED,CAAC,CAACE,WAAZ,CAAyB,GAAG,4BAAsBF,CAAC,CAACG,KAAxB,CAA5B,EADF,cAEE,oBAAC,eAAD,EACE,WAAW,CAAEH,CAAC,CAACI,WADjB,CAEE,aAAa,CAAEJ,CAAC,CAACG,KAFnB,EAFF,CALF,CADc,EAAf,CAXH,cA0BE,oBAAC,eAAD,EACE,SAAS,CAAC,MADZ,CAEE,aAAa,CAAC,UAFhB,CAGE,cAAc,CAAEP,QAHlB,EA1BF,cA+BE,oBAAC,eAAD,EACE,SAAS,CAAC,MADZ,CAEE,aAAa,CAAC,MAFhB,CAGE,cAAc,CAAEH,IAHlB,EA/BF,CADF,CAuCD","sourcesContent":["import {Link} from 'wouter';\nimport React, {useState} from 'react';\nimport {useFetchAllArticles} from '@instinct-prj/frontend';\nimport {\n  Carousel,\n  CarouselCaption,\n  CarouselControl,\n  CarouselIndicators,\n  CarouselItem,\n} from 'reactstrap';\n\nexport function NewsSlider() {\n  const articles = useFetchAllArticles();\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [animating, setAnimating] = useState(false);\n\n  function next() {\n    if (animating || !articles) return;\n    const nextIndex = activeIndex === articles.length - 1 ? 0 : activeIndex + 1;\n    setActiveIndex(nextIndex);\n  }\n\n  function previous() {\n    if (animating || !articles) return;\n    const nextIndex = activeIndex === 0 ? articles.length - 1 : activeIndex - 1;\n    setActiveIndex(nextIndex);\n  }\n\n  function goToIndex(newIndex: number) {\n    if (animating) return;\n    setActiveIndex(newIndex);\n  }\n\n  if (!articles) {\n    return null;\n  }\n\n  return (\n    <Carousel\n      activeIndex={activeIndex}\n      className=\"mt-4\"\n      next={next}\n      previous={previous}\n    >\n      <CarouselIndicators\n        items={articles}\n        activeIndex={activeIndex}\n        onClickHandler={goToIndex}\n      />\n      {articles?.map(_ => (\n        <CarouselItem\n          onExiting={() => setAnimating(true)}\n          onExited={() => setAnimating(false)}\n          key={`article_${_.id}`}\n        >\n          <Link href={`/community/news/${_.id}`}>\n            <img src={_.headerImage} alt={`header image for ${_.title}`} />\n            <CarouselCaption\n              captionText={_.description}\n              captionHeader={_.title}\n            />\n          </Link>\n        </CarouselItem>\n      ))}\n      <CarouselControl\n        direction=\"prev\"\n        directionText=\"Previous\"\n        onClickHandler={previous}\n      />\n      <CarouselControl\n        direction=\"next\"\n        directionText=\"Next\"\n        onClickHandler={next}\n      />\n    </Carousel>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}