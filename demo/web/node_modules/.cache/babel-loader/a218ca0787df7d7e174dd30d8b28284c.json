{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpettyjohn/Habbo/instinct-revised/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cpettyjohn/Habbo/instinct-revised/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{toast}from'react-toastify';import React,{useContext}from'react';import{RankEditor}from'../../rank-editor/RankEditor';import{DeleteRankModal}from'../delete-rank/DeleteRank';import{configContext,rankService}from'@instinct-prj/frontend';import{rankWireToRankDTO}from'@instinct-prj/interface';export function EditRankModal(_ref){var rank=_ref.rank,onChanges=_ref.onChanges;var _useContext=useContext(configContext),config=_useContext.config;function onSave(_x){return _onSave.apply(this,arguments);}function _onSave(){_onSave=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(changes){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return rankService.updateByID(rank.id.toString(),changes);case 3:toast.success(\"Rank \".concat(changes.name,\" has been updated\"));onChanges();_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);toast.error(\"Rank \".concat(changes.name,\" could not be updated at this time\"));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _onSave.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{className:\"admin-article row mb-3\",key:rank.id,style:{height:100,width:'100%'}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"rank badge\",src:\"\".concat(config.swfBadgeURL,\"/\").concat(rank.badge,\".gif\"),style:{marginTop:'20%'}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 text-right\"},/*#__PURE__*/React.createElement(\"h3\",null,rank.name),/*#__PURE__*/React.createElement(\"div\",{className:\"row mr-2\",style:{float:'right'}},/*#__PURE__*/React.createElement(DeleteRankModal,{rankID:rank.id,rankName:rank.name,onDeletion:onChanges},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger btn-sm mr-2\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-trash\"}))),/*#__PURE__*/React.createElement(RankEditor,{defaultRank:rankWireToRankDTO(rank),onSave:onSave},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-sm\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-pencil\"}))))));}","map":{"version":3,"sources":["/Users/cpettyjohn/Habbo/instinct-revised/packages/frontend/admin/src/users/ranks/rank-modals/edit-rank/EditRank.tsx"],"names":["toast","React","useContext","RankEditor","DeleteRankModal","configContext","rankService","rankWireToRankDTO","EditRankModal","rank","onChanges","config","onSave","changes","updateByID","id","toString","success","name","error","height","width","swfBadgeURL","badge","marginTop","float"],"mappings":"2TAAA,OAAQA,KAAR,KAAoB,gBAApB,CACA,MAAOC,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CAEA,OAAQC,UAAR,KAAyB,8BAAzB,CACA,OAAQC,eAAR,KAA8B,2BAA9B,CACA,OAAQC,aAAR,CAAuBC,WAAvB,KAAyC,wBAAzC,CACA,OAAiBC,iBAAjB,KAAyC,yBAAzC,CAEA,MAAO,SAASC,CAAAA,aAAT,MAA8D,IAAtCC,CAAAA,IAAsC,MAAtCA,IAAsC,CAAhCC,SAAgC,MAAhCA,SAAgC,iBAClDR,UAAU,CAACG,aAAD,CADwC,CAC5DM,MAD4D,aAC5DA,MAD4D,SAGpDC,CAAAA,MAHoD,8HAGnE,iBAAsBC,OAAtB,wJAEUP,CAAAA,WAAW,CAACQ,UAAZ,CAAuBL,IAAI,CAACM,EAAL,CAAQC,QAAR,EAAvB,CAA2CH,OAA3C,CAFV,QAGIb,KAAK,CAACiB,OAAN,gBAAsBJ,OAAO,CAACK,IAA9B,uBACAR,SAAS,GAJb,+EAMIV,KAAK,CAACmB,KAAN,gBAAoBN,OAAO,CAACK,IAA5B,wCANJ,oEAHmE,yCAanE,mBACE,2BACE,SAAS,CAAC,wBADZ,CAEE,GAAG,CAAET,IAAI,CAACM,EAFZ,CAGE,KAAK,CAAE,CAACK,MAAM,CAAE,GAAT,CAAcC,KAAK,CAAE,MAArB,CAHT,eAKE,2BAAK,SAAS,CAAC,OAAf,eACE,2BACE,GAAG,CAAC,YADN,CAEE,GAAG,WAAKV,MAAM,CAACW,WAAZ,aAA2Bb,IAAI,CAACc,KAAhC,QAFL,CAGE,KAAK,CAAE,CAACC,SAAS,CAAE,KAAZ,CAHT,EADF,CALF,cAYE,2BAAK,SAAS,CAAC,kBAAf,eACE,8BAAKf,IAAI,CAACS,IAAV,CADF,cAEE,2BAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAACO,KAAK,CAAE,OAAR,CAAjC,eACE,oBAAC,eAAD,EACE,MAAM,CAAEhB,IAAI,CAACM,EADf,CAEE,QAAQ,CAAEN,IAAI,CAACS,IAFjB,CAGE,UAAU,CAAER,SAHd,eAKE,8BAAQ,SAAS,CAAC,4BAAlB,eACE,yBAAG,SAAS,CAAC,aAAb,EADF,CALF,CADF,cAUE,oBAAC,UAAD,EAAY,WAAW,CAAEH,iBAAiB,CAACE,IAAD,CAA1C,CAAkD,MAAM,CAAEG,MAA1D,eACE,8BAAQ,SAAS,CAAC,wBAAlB,eACE,yBAAG,SAAS,CAAC,cAAb,EADF,CADF,CAVF,CAFF,CAZF,CADF,CAkCD","sourcesContent":["import {toast} from 'react-toastify';\nimport React, {useContext} from 'react';\nimport {EditRankModalProps} from './EditRank.types';\nimport {RankEditor} from '../../rank-editor/RankEditor';\nimport {DeleteRankModal} from '../delete-rank/DeleteRank';\nimport {configContext, rankService} from '@instinct-prj/frontend';\nimport {RankDTO, rankWireToRankDTO} from '@instinct-prj/interface';\n\nexport function EditRankModal({rank, onChanges}: EditRankModalProps) {\n  const {config} = useContext(configContext);\n\n  async function onSave(changes: RankDTO): Promise<void> {\n    try {\n      await rankService.updateByID(rank.id.toString(), changes);\n      toast.success(`Rank ${changes.name} has been updated`);\n      onChanges();\n    } catch {\n      toast.error(`Rank ${changes.name} could not be updated at this time`);\n    }\n  }\n\n  return (\n    <div\n      className=\"admin-article row mb-3\"\n      key={rank.id}\n      style={{height: 100, width: '100%'}}\n    >\n      <div className=\"col-4\">\n        <img\n          alt=\"rank badge\"\n          src={`${config.swfBadgeURL}/${rank.badge}.gif`}\n          style={{marginTop: '20%'}}\n        />\n      </div>\n      <div className=\"col-8 text-right\">\n        <h3>{rank.name}</h3>\n        <div className=\"row mr-2\" style={{float: 'right'}}>\n          <DeleteRankModal\n            rankID={rank.id}\n            rankName={rank.name}\n            onDeletion={onChanges}\n          >\n            <button className=\"btn btn-danger btn-sm mr-2\">\n              <i className=\"fa fa-trash\" />\n            </button>\n          </DeleteRankModal>\n          <RankEditor defaultRank={rankWireToRankDTO(rank)} onSave={onSave}>\n            <button className=\"btn btn-primary btn-sm\">\n              <i className=\"fa fa-pencil\" />\n            </button>\n          </RankEditor>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}