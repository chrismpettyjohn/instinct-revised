{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{toast}from'react-toastify';import React,{useState}from'react';import{NewsArticleLayout}from'../NewsArticlesLayout';import{CreateCategoryModal}from'./create-category-modal';import{APIWrapper,articleService,setURL}from'@instinct-prj/frontend';setURL('admin/list-articles/categories',/*#__PURE__*/React.createElement(ListCategories,null));export function ListCategories(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),reload=_useState2[0],setReload=_useState2[1];function onCreation(){setReload(function(_){return _+1;});}function onDelete(_x){return _onDelete.apply(this,arguments);}function _onDelete(){_onDelete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(categoryID){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return articleService.deleteCategoryByID(categoryID);case 3:toast.success(\"Category \".concat(categoryID,\" has been deleted\"));setReload(function(_){return _+1;});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);toast.error(\"Category \".concat(categoryID,\" could not be deleted at this time\"));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _onDelete.apply(this,arguments);}return/*#__PURE__*/React.createElement(NewsArticleLayout,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"h2\",{style:{marginTop:8}},\"News Categories\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},/*#__PURE__*/React.createElement(CreateCategoryModal,{onCreation:onCreation}))),/*#__PURE__*/React.createElement(APIWrapper,{promise:articleService.getAllCategories,params:reload},function(categories){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{maxHeight:500,padding:15}},categories===null||categories===void 0?void 0:categories.map(function(category){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\",key:category.id,style:{background:'#000B13',borderBottom:\"2px solid \".concat(category.color),padding:15,marginBottom:15}},/*#__PURE__*/React.createElement(\"h3\",null,category.name),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return onDelete(category.id);}},\"Delete\"));}));}));}","map":{"version":3,"sources":["/Users/cpettyjohn/Habbo/instinct/packages/frontend/admin/src/news-articles/categories/ListCategories.tsx"],"names":["toast","React","useState","NewsArticleLayout","CreateCategoryModal","APIWrapper","articleService","setURL","ListCategories","reload","setReload","onCreation","_","onDelete","categoryID","deleteCategoryByID","success","error","marginTop","getAllCategories","categories","maxHeight","padding","map","category","id","background","borderBottom","color","marginBottom","name"],"mappings":"kcAAA,OAAQA,KAAR,KAAoB,gBAApB,CACA,MAAOC,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,iBAAR,KAAgC,uBAAhC,CACA,OAAQC,mBAAR,KAAkC,yBAAlC,CACA,OAAQC,UAAR,CAAoBC,cAApB,CAAoCC,MAApC,KAAiD,wBAAjD,CAEAA,MAAM,CAAC,gCAAD,cAAmC,oBAAC,cAAD,MAAnC,CAAN,CAEA,MAAO,SAASC,CAAAA,cAAT,EAA0B,eACHN,QAAQ,CAAC,CAAD,CADL,wCACxBO,MADwB,eAChBC,SADgB,eAG/B,QAASC,CAAAA,UAAT,EAAsB,CACpBD,SAAS,CAAC,SAAAE,CAAC,QAAIA,CAAAA,CAAC,CAAG,CAAR,EAAF,CAAT,CACD,CAL8B,QAOhBC,CAAAA,QAPgB,oIAO/B,iBAAwBC,UAAxB,wJAEUR,CAAAA,cAAc,CAACS,kBAAf,CAAkCD,UAAlC,CAFV,QAGId,KAAK,CAACgB,OAAN,oBAA0BF,UAA1B,uBACAJ,SAAS,CAAC,SAAAE,CAAC,QAAIA,CAAAA,CAAC,CAAG,CAAR,EAAF,CAAT,CAJJ,+EAMIZ,KAAK,CAACiB,KAAN,oBAAwBH,UAAxB,wCANJ,oEAP+B,2CAiB/B,mBACE,oBAAC,iBAAD,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,0BAAI,KAAK,CAAE,CAACI,SAAS,CAAE,CAAZ,CAAX,oBADF,CADF,cAIE,2BAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,mBAAD,EAAqB,UAAU,CAAEP,UAAjC,EADF,CAJF,CADF,cASE,oBAAC,UAAD,EAAY,OAAO,CAAEL,cAAc,CAACa,gBAApC,CAAsD,MAAM,CAAEV,MAA9D,EACG,SAAAW,UAAU,qBACT,2BAAK,SAAS,CAAC,KAAf,CAAqB,KAAK,CAAE,CAACC,SAAS,CAAE,GAAZ,CAAiBC,OAAO,CAAE,EAA1B,CAA5B,EACGF,UADH,SACGA,UADH,iBACGA,UAAU,CAAEG,GAAZ,CAAgB,SAAAC,QAAQ,qBACvB,2BACE,SAAS,CAAC,QADZ,CAEE,GAAG,CAAEA,QAAQ,CAACC,EAFhB,CAGE,KAAK,CAAE,CACLC,UAAU,CAAE,SADP,CAELC,YAAY,qBAAeH,QAAQ,CAACI,KAAxB,CAFP,CAGLN,OAAO,CAAE,EAHJ,CAILO,YAAY,CAAE,EAJT,CAHT,eAUE,8BAAKL,QAAQ,CAACM,IAAd,CAVF,cAWE,8BACE,SAAS,CAAC,gBADZ,CAEE,OAAO,CAAE,yBAAMjB,CAAAA,QAAQ,CAACW,QAAQ,CAACC,EAAV,CAAd,EAFX,WAXF,CADuB,EAAxB,CADH,CADS,EADb,CATF,CADF,CAsCD","sourcesContent":["import {toast} from 'react-toastify';\nimport React, {useState} from 'react';\nimport {NewsArticleLayout} from '../NewsArticlesLayout';\nimport {CreateCategoryModal} from './create-category-modal';\nimport {APIWrapper, articleService, setURL} from '@instinct-prj/frontend';\n\nsetURL('admin/list-articles/categories', <ListCategories />);\n\nexport function ListCategories() {\n  const [reload, setReload] = useState(0);\n\n  function onCreation() {\n    setReload(_ => _ + 1);\n  }\n\n  async function onDelete(categoryID: number) {\n    try {\n      await articleService.deleteCategoryByID(categoryID);\n      toast.success(`Category ${categoryID} has been deleted`);\n      setReload(_ => _ + 1);\n    } catch {\n      toast.error(`Category ${categoryID} could not be deleted at this time`);\n    }\n  }\n\n  return (\n    <NewsArticleLayout>\n      <div className=\"row\">\n        <div className=\"col-6\">\n          <h2 style={{marginTop: 8}}>News Categories</h2>\n        </div>\n        <div className=\"col-6 text-right\">\n          <CreateCategoryModal onCreation={onCreation} />\n        </div>\n      </div>\n      <APIWrapper promise={articleService.getAllCategories} params={reload}>\n        {categories => (\n          <div className=\"row\" style={{maxHeight: 500, padding: 15}}>\n            {categories?.map(category => (\n              <div\n                className=\"col-12\"\n                key={category.id}\n                style={{\n                  background: '#000B13',\n                  borderBottom: `2px solid ${category.color}`,\n                  padding: 15,\n                  marginBottom: 15,\n                }}\n              >\n                <h3>{category.name}</h3>\n                <button\n                  className=\"btn btn-danger\"\n                  onClick={() => onDelete(category.id)}\n                >\n                  Delete\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n      </APIWrapper>\n    </NewsArticleLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}