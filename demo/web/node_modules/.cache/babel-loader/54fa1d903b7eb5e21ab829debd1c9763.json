{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpettyjohn/Habbo/instinct-revised/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cpettyjohn/Habbo/instinct-revised/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cpettyjohn/Habbo/instinct-revised/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{toast}from'react-toastify';import React,{useState}from'react';import{rankService}from'@instinct-prj/frontend';import{Modal,ModalBody,ModalFooter,ModalHeader}from'reactstrap';export function DeleteRankModal(_ref){var children=_ref.children,rankID=_ref.rankID,rankName=_ref.rankName,onDeletion=_ref.onDeletion;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),spinner=_useState4[0],setSpinner=_useState4[1];function toggle(){setOpen(function(_){return!_;});}function deleteRank(){return _deleteRank.apply(this,arguments);}function _deleteRank(){_deleteRank=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setSpinner(true);_context.next=4;return rankService.deleteByID(rankID.toString());case 4:toast.success(\"Rank \".concat(rankName,\" has been deleted\"));onDeletion();_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);toast.error(\"Rank \".concat(rankName,\" could not be deleted at this time\"));case 11:_context.prev=11;setSpinner(false);return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,8,11,14]]);}));return _deleteRank.apply(this,arguments);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{onClick:toggle},children),/*#__PURE__*/React.createElement(Modal,{isOpen:isOpen,toggle:toggle},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggle},\"Are you sure?\"),/*#__PURE__*/React.createElement(ModalBody,{className:\"text-center\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-exclamation-triangle fa-3x text-danger\"}),/*#__PURE__*/React.createElement(\"h3\",{className:\"text-uppercase\"},\"Warning\"),/*#__PURE__*/React.createElement(\"h4\",null,\"You're about to delete \",/*#__PURE__*/React.createElement(\"b\",null,rankName)),/*#__PURE__*/React.createElement(\"p\",null,\"This action is irreversible and your changes cannot be undone.\")),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\",disabled:spinner,onClick:deleteRank},spinner?/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-spinner fa-spin\"}):'Delete'))))));}","map":{"version":3,"sources":["/Users/cpettyjohn/Habbo/instinct-revised/packages/frontend/admin/src/users/ranks/rank-modals/delete-rank/DeleteRank.tsx"],"names":["toast","React","useState","rankService","Modal","ModalBody","ModalFooter","ModalHeader","DeleteRankModal","children","rankID","rankName","onDeletion","isOpen","setOpen","spinner","setSpinner","toggle","_","deleteRank","deleteByID","toString","success","error"],"mappings":"0dAAA,OAAQA,KAAR,KAAoB,gBAApB,CACA,MAAOC,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,WAAR,KAA0B,wBAA1B,CAEA,OAAQC,KAAR,CAAeC,SAAf,CAA0BC,WAA1B,CAAuCC,WAAvC,KAAyD,YAAzD,CAEA,MAAO,SAASC,CAAAA,eAAT,MAKkB,IAJvBC,CAAAA,QAIuB,MAJvBA,QAIuB,CAHvBC,MAGuB,MAHvBA,MAGuB,CAFvBC,QAEuB,MAFvBA,QAEuB,CADvBC,UACuB,MADvBA,UACuB,eACGV,QAAQ,CAAC,KAAD,CADX,wCAChBW,MADgB,eACRC,OADQ,8BAEOZ,QAAQ,CAAC,KAAD,CAFf,yCAEhBa,OAFgB,eAEPC,UAFO,eAIvB,QAASC,CAAAA,MAAT,EAAwB,CACtBH,OAAO,CAAC,SAAAI,CAAC,QAAI,CAACA,CAAL,EAAF,CAAP,CACD,CANsB,QAQRC,CAAAA,UARQ,wIAQvB,mJAEIH,UAAU,CAAC,IAAD,CAAV,CAFJ,sBAGUb,CAAAA,WAAW,CAACiB,UAAZ,CAAuBV,MAAM,CAACW,QAAP,EAAvB,CAHV,QAIIrB,KAAK,CAACsB,OAAN,gBAAsBX,QAAtB,uBACAC,UAAU,GALd,+EAOIZ,KAAK,CAACuB,KAAN,gBAAoBZ,QAApB,wCAPJ,yBASIK,UAAU,CAAC,KAAD,CAAV,CATJ,qGARuB,6CAqBvB,mBACE,qDACE,2BAAK,OAAO,CAAEC,MAAd,EAAuBR,QAAvB,CADF,cAEE,oBAAC,KAAD,EAAO,MAAM,CAAEI,MAAf,CAAuB,MAAM,CAAEI,MAA/B,eACE,oBAAC,WAAD,EAAa,MAAM,CAAEA,MAArB,kBADF,cAEE,oBAAC,SAAD,EAAW,SAAS,CAAC,aAArB,eACE,yBAAG,SAAS,CAAC,8CAAb,EADF,cAEE,0BAAI,SAAS,CAAC,gBAAd,YAFF,cAGE,qEACyB,6BAAIN,QAAJ,CADzB,CAHF,cAME,8FANF,CAFF,cAUE,oBAAC,WAAD,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,8BACE,SAAS,CAAC,gBADZ,CAEE,QAAQ,CAAEI,OAFZ,CAGE,OAAO,CAAEI,UAHX,EAKGJ,OAAO,cAAG,yBAAG,SAAS,CAAC,uBAAb,EAAH,CAA6C,QALvD,CADF,CADF,CADF,CAVF,CAFF,CADF,CA6BD","sourcesContent":["import {toast} from 'react-toastify';\nimport React, {useState} from 'react';\nimport {rankService} from '@instinct-prj/frontend';\nimport {DeleteRankModalProps} from './DeleteRank.types';\nimport {Modal, ModalBody, ModalFooter, ModalHeader} from 'reactstrap';\n\nexport function DeleteRankModal({\n  children,\n  rankID,\n  rankName,\n  onDeletion,\n}: DeleteRankModalProps) {\n  const [isOpen, setOpen] = useState(false);\n  const [spinner, setSpinner] = useState(false);\n\n  function toggle(): void {\n    setOpen(_ => !_);\n  }\n\n  async function deleteRank() {\n    try {\n      setSpinner(true);\n      await rankService.deleteByID(rankID.toString());\n      toast.success(`Rank ${rankName} has been deleted`);\n      onDeletion();\n    } catch {\n      toast.error(`Rank ${rankName} could not be deleted at this time`);\n    } finally {\n      setSpinner(false);\n    }\n  }\n\n  return (\n    <>\n      <div onClick={toggle}>{children}</div>\n      <Modal isOpen={isOpen} toggle={toggle}>\n        <ModalHeader toggle={toggle}>Are you sure?</ModalHeader>\n        <ModalBody className=\"text-center\">\n          <i className=\"fa fa-exclamation-triangle fa-3x text-danger\" />\n          <h3 className=\"text-uppercase\">Warning</h3>\n          <h4>\n            You're about to delete <b>{rankName}</b>\n          </h4>\n          <p>This action is irreversible and your changes cannot be undone.</p>\n        </ModalBody>\n        <ModalFooter>\n          <div className=\"row\">\n            <div className=\"col-6\">\n              <button\n                className=\"btn btn-danger\"\n                disabled={spinner}\n                onClick={deleteRank}\n              >\n                {spinner ? <i className=\"fa fa-spinner fa-spin\" /> : 'Delete'}\n              </button>\n            </div>\n          </div>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}