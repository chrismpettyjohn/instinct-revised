{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cpettyjohn/Habbo/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useRoute}from'wouter';import{toast}from'react-toastify';import{NewsArticleEditor}from'./editor/NewsArticleEditor';import{articleService,setURL,useFetchArticleByID}from'@instinct-prj/frontend';setURL('admin/news/articles/:articleID',/*#__PURE__*/React.createElement(EditNewsArticle,null));export function EditNewsArticle(){var _useRoute=useRoute('/admin/news/articles/:articleID'),_useRoute2=_slicedToArray(_useRoute,2),matched=_useRoute2[0],params=_useRoute2[1];var article=useFetchArticleByID(params.articleID);function onSave(_x){return _onSave.apply(this,arguments);}function _onSave(){_onSave=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(article){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return articleService.updateByID(params.articleID,article);case 3:toast.success(\"Your changes to \".concat(article.title,\" have been published\"));_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);toast.error(\"Your changes to \".concat(article.title,\" could not be saved at this time\"));case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return _onSave.apply(this,arguments);}if(!article){return/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-spin fa-spinner\"});}return/*#__PURE__*/React.createElement(NewsArticleEditor,{defaultArticle:article,onSave:onSave});}","map":{"version":3,"sources":["/Users/cpettyjohn/Habbo/instinct/packages/frontend/admin/src/news-articles/articles/EditNewsArticle.tsx"],"names":["React","useRoute","toast","NewsArticleEditor","articleService","setURL","useFetchArticleByID","EditNewsArticle","matched","params","article","articleID","onSave","updateByID","success","title","error"],"mappings":"kcAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,KAAuB,QAAvB,CACA,OAAQC,KAAR,KAAoB,gBAApB,CAEA,OAAQC,iBAAR,KAAgC,4BAAhC,CACA,OACEC,cADF,CAEEC,MAFF,CAGEC,mBAHF,KAIO,wBAJP,CAMAD,MAAM,CAAC,gCAAD,cAAmC,oBAAC,eAAD,MAAnC,CAAN,CAEA,MAAO,SAASE,CAAAA,eAAT,EAA2B,eACNN,QAAQ,CAChC,iCADgC,CADF,wCACzBO,OADyB,eAChBC,MADgB,eAIhC,GAAMC,CAAAA,OAAO,CAAGJ,mBAAmB,CAACG,MAAM,CAAEE,SAAT,CAAnC,CAJgC,QAMjBC,CAAAA,MANiB,8HAMhC,iBAAsBF,OAAtB,wJAEUN,CAAAA,cAAc,CAACS,UAAf,CAA0BJ,MAAM,CAAEE,SAAlC,CAA6CD,OAA7C,CAFV,QAGIR,KAAK,CAACY,OAAN,2BAAiCJ,OAAO,CAACK,KAAzC,0BAHJ,8EAKIb,KAAK,CAACc,KAAN,2BACqBN,OAAO,CAACK,KAD7B,sCALJ,mEANgC,yCAiBhC,GAAI,CAACL,OAAL,CAAc,CACZ,mBAAO,yBAAG,SAAS,CAAC,uBAAb,EAAP,CACD,CAED,mBAAO,oBAAC,iBAAD,EAAmB,cAAc,CAAEA,OAAnC,CAA4C,MAAM,CAAEE,MAApD,EAAP,CACD","sourcesContent":["import React from 'react';\nimport {useRoute} from 'wouter';\nimport {toast} from 'react-toastify';\nimport {ArticleDTO} from '@instinct-prj/interface';\nimport {NewsArticleEditor} from './editor/NewsArticleEditor';\nimport {\n  articleService,\n  setURL,\n  useFetchArticleByID,\n} from '@instinct-prj/frontend';\n\nsetURL('admin/news/articles/:articleID', <EditNewsArticle />);\n\nexport function EditNewsArticle() {\n  const [matched, params] = useRoute<{articleID: string}>(\n    '/admin/news/articles/:articleID'\n  );\n  const article = useFetchArticleByID(params!.articleID);\n\n  async function onSave(article: ArticleDTO) {\n    try {\n      await articleService.updateByID(params!.articleID, article);\n      toast.success(`Your changes to ${article.title} have been published`);\n    } catch {\n      toast.error(\n        `Your changes to ${article.title} could not be saved at this time`\n      );\n    }\n  }\n\n  if (!article) {\n    return <i className=\"fa fa-spin fa-spinner\" />;\n  }\n\n  return <NewsArticleEditor defaultArticle={article} onSave={onSave} />;\n}\n"]},"metadata":{},"sourceType":"module"}