{"ast":null,"code":"var _jsxFileName = \"/Users/cpettyjohn/Habbo/instinct-revised/packages/frontend/admin/src/emulator/settings/EmulatorSettings.tsx\";\nimport { FormGroup } from 'reactstrap';\nimport { toast } from 'react-toastify';\nimport React, { useEffect, useState } from 'react';\nimport { EmulatorLayout } from '../EmulatorLayout';\nimport { emulatorService, Form, Icon, Input, setURL } from '@instinct-prj/frontend';\nsetURL('admin/emulator/settings', /*#__PURE__*/React.createElement(EmulatorSettings, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 35\n  }\n}));\nexport function EmulatorSettings() {\n  const [spinner, setSpinner] = useState(false);\n  const [filter, setFilter] = useState('');\n  const [settings, setSettings] = useState();\n  useEffect(() => {\n    async function fetchSettings() {\n      const data = await emulatorService.getSettings();\n      setSettings(data);\n    }\n\n    fetchSettings();\n  }, []);\n\n  function onChange(key, value) {\n    setSettings(_ => {\n      const newSettings = [..._];\n      newSettings.find(_ => _.id === key).value = value;\n      return newSettings;\n    });\n  }\n\n  async function onSubmit() {\n    setSpinner(true);\n    await emulatorService.updateSettings(settings.map(_ => ({\n      id: _.id,\n      value: _.value\n    })));\n    toast.info('Emulator settings have been updated');\n    setSpinner(false);\n  }\n\n  return /*#__PURE__*/React.createElement(EmulatorLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"wrench\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }), \"Emulator Settings\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Filter By\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    value: filter,\n    onChange: e => setFilter(e.target.value.toLowerCase()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Form, {\n    className: \"mt-2\",\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"Server Options\"), !settings && /*#__PURE__*/React.createElement(Icon, {\n    className: \"fa-spin\",\n    type: \"spinner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      maxHeight: 500,\n      overflowY: 'scroll'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, settings === null || settings === void 0 ? void 0 : settings.filter(_ => _.label.toLowerCase().includes(filter)).map(_ => /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"col-6\",\n    key: _.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, _.label), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: _.id,\n    value: _.value,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    disabled: spinner,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, spinner ? /*#__PURE__*/React.createElement(Icon, {\n    className: \"fa-spin\",\n    type: \"spinner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 24\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, \"Save\")))));\n}","map":null,"metadata":{},"sourceType":"module"}